```python
# 系統會自動執行以下流程：
1. 檢查資料庫中現有數據
2. 從 yfinance 獲取最新數據
3. 比對最近 30 天的數據差異
4. 只更新有差異的 OHLCV 數據
5. 重新計算並更新技術指標
6. 辨識 K 線型態
7. 執行訊號分析和交易訊號生成
8. 將結果存入資料庫
```

### 2. 數據比對機制

- 預設檢查最近 30 天的數據
- 使用 0.001 的價格容差進行比較
- 自動偵測新增、修正或缺失的數據
- 避免不必要的全量更新

### 3. 技術指標計算

支援以下技術指標：

- **RSI**: 5, 7, 10, 14, 21 期間
- **MACD**: DIF, MACD, 柱狀圖
- **KDJ**: RSV, K, D, J 值
- **移動平均**: MA5, MA10, MA20, MA60, EMA12, EMA26
- **布林通道**: 上軌, 中軌, 下軌
- **其他**: ATR, CCI, Williams %R, 動量指標

### 4. K 線型態

使用 ta-lib 辨識基本 K 線型態